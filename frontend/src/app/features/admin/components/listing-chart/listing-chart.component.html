<mat-card class="admin-chart-container">
  <div class="mb-6">
    <h3 class="text-xl font-semibold" style="color: var(--admin-text-primary)">
      Listing Analytics
    </h3>
    <p class="text-sm" style="color: var(--admin-text-secondary)">
      Property type distribution and performance
    </p>
  </div>

  @if (loading()) {
    <div class="flex justify-center items-center h-96">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2"
           style="border-color: var(--admin-primary)"></div>
    </div>
  } @else if (chartOption()) {
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <!-- Property Type Chart -->
      <div>
        <h4 class="text-sm font-semibold mb-3" style="color: var(--admin-text-primary)">
          Property Types
        </h4>
        <div echarts [options]="chartOption()!" class="h-96"></div>
      </div>

      <!-- Average Price by Type -->
      <div>
        <h4 class="text-sm font-semibold mb-3" style="color: var(--admin-text-primary)">
          Average Price by Type
        </h4>
        @if (barChartOption()) {
          <div echarts [options]="barChartOption()!" class="h-96"></div>
        }
      </div>
    </div>
  }
</mat-card>
